$("#addnewtodo").submit(function(e) {

//console.log('hello!');

var url = "/<%=user.id%>/todo"; // the script where you handle the form input.

$.ajax({
type: "POST",
url: url,
data: JSON.stringify({task:task}), // serializes the form's elements.
success: function(data)
{
console.log('added!');
}
});

e.preventDefault(); // avoid to execute the actual submit of the form.

});


jQuery.noConflict();
jQuery(document).ready( function($) {
var $form = $('#addnewtodo');

$form.submit( function() {
$.ajax({
type: 'POST',
url: $form.attr( 'action' ),
data: $form.serialize(),
success: function( response ) {
console.log( response );
}
});

event.preventDefault;
return false;
});
});



$.ajax({
			type:'POST',
			url:'/<%=user._id%>/todo/<%=user.todo[i].id%>?_method=DELETE',

			success: function()
			{
				$(this).parent().fadeOut(500,function(){
					$(this).remove();
				});
			},
			error:function(error)
			{
				console.log(error);
			}
		})

<span><i class="fa fa-trash"></i></span>
'/<%=user._id%>/todo/<%=user.todo[i].id%>?_method=DELETE'


$.ajax({
			type:'POST',
			url: '/<%=user._id%>/todo/<%=user.todo[i].id%>?_method=DELETE',

			success: function()
			{
				$(this).parent().fadeOut(500,function(){
					$(this).remove();
				});
			},
			error:function(error)
			{
				console.log(error);
			}
		})
	
	
for(var i=0;i<<%=user.todo.length%>;i++)
	{
		$("ul").append("<li><span><i class='fa fa-trash'></i></span> " + "<%=user.todo[i].task%>" + "</li>")
	}

	$("ul").append("<li><span><i class='fa fa-trash'></i></span> " + data.task + "</li>")